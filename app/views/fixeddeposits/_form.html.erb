
<script>
$(document).ready(function() {
$("#periods").on("change", function() { 
    $.ajax({
        url      : '/calculate_rateofinterest',
        dataType : 'json',
        type     : "GET",
        data     : {"rateofinterest": $(this).val() }
        success  : function(data){
           $("#interestrate_rate").val = data;
        }
    });
});
});
</script>

<%= form_for @fixeddeposit do |f| %>  
 
<% if @fixeddeposit.errors.any? %>
<h4>Couldn't open FD Account</h4>
<ul>
<% @fixeddeposit.errors.full_messages.each do |error| %>
<li><%= error %></li>
<% end %>
</ul>
<% end %>
    <%= f.label :customer_name, class:'required' %>
    <%= f.text_field :customername, :placeholder =>'Name' %>

    <%= f.label :date_of_birth, class:'required' %>
    <%= f.date_select :dateofbirth, { :include_blank => true, :start_year => 1900, :end_year => 2014 }, :id => "dateofbirth" %>
   
    <%= f.label :gender, class:'required' %>
    <%= f.select :gender, options_for_select(%w[Male Female]), { :include_blank => true} %>

    <%= f.label :address, class:'required' %>
    <%= f.text_area :address, :id => "address", :cols => 5, :rows => 3 %>

    <%= f.label :city, class:'required' %>
    <%= f.text_field :city, :placeholder =>'City' %>

    <%= f.label :Periods, class:'required' %>
    <%= f.number_field :periods, :id => "fixeddeposit_periods", :placeholder => "Days", :class => "input-mini" %>

    <%= f.label :Rate_Of_Interest %>
    <%= f.text_field :rateofinterest, :id => "fixeddeposit_rateofinterest", :value => "", :disabled => true, :class => "input-medium" %>
    <span class="help-block">auto-generated</span>

    <%= f.label :deposit_amount, class:'required' %>
    <%= f.text_field :depositamount, :placeholder =>'0.00' %>
   
    <%= f.label :opened_on %>
    <%= f.text_field :openedon, :disabled => true, :value => Date.today.strftime("%d/%m/%Y"), :class => 'input-medium' %>
<div>      
  </div>
    <%= f.submit "Open FD", class: "btn btn-primary" %>     
    <% end %>
  </div>
</div>


